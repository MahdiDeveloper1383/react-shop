"use strict";(self.webpackChunkreact_shop=self.webpackChunkreact_shop||[]).push([[702],{415:(e,t,r)=>{r.d(t,{h:()=>c});var s=r(248),l=r(97),a=r(722);const c=()=>{const e=(0,s.jE)();return{deleteProduct:(0,l.n)({mutationFn:e=>a.A.delete("https://687a0739abb83744b7eb0c77.mockapi.io/Books/".concat(e)),onSuccess:()=>e.invalidateQueries({queryKey:["Books"]}),onError:e=>console.error("Delete product failed:",e)}),editProduct:(0,l.n)({mutationFn:e=>{let{ProductId:t,ProductData:r}=e;return a.A.put("https://687a0739abb83744b7eb0c77.mockapi.io/Books/".concat(t),r)},onSuccess:()=>e.invalidateQueries({queryKey:["Books"]}),onError:e=>console.error("Edit product failed:",e)})}}},702:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var s=r(43),l=r(933),a=r(415),c=r(579);const d=e=>{let{Product:t,onEdit:r}=e;const{deleteProduct:s}=(0,a.h)();return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"border px-4 py-2",children:t.id}),(0,c.jsx)("td",{className:"border px-4 py-2",children:t.name}),(0,c.jsxs)("td",{className:"border px-4 py-2",children:["$",t.price]}),(0,c.jsx)("td",{className:"border px-4 py-2",children:(0,c.jsx)("img",{src:t.cover,alt:"Product",className:"w-24 h-32 object-cover rounded-lg shadow-md"})}),(0,c.jsx)("td",{className:"border px-2 py-1",children:(0,c.jsxs)("div",{className:"flex flex-row gap-6 ml-auto mr-auto items-center justify-center",children:[(0,c.jsx)("button",{onClick:r,className:"border w-24 h-10 rounded-xl bg-blue-500 text-white hover:bg-blue-600",children:"Edit"}),(0,c.jsx)("button",{onClick:()=>s.mutate(t.id),className:"border w-24 h-10 rounded-xl bg-red-500 text-white hover:bg-red-600",children:"Delete"})]})})]})},o=(0,s.lazy)(()=>r.e(876).then(r.bind(r,876))),n=(0,s.lazy)(()=>r.e(18).then(r.bind(r,18))),i=()=>{const{data:e=[]}=(0,l.A)(),[t,r]=(0,s.useState)(""),a=e.filter(e=>e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())),[i,x]=(0,s.useState)(1),[u,h]=(0,s.useState)(null),[b,p]=(0,s.useState)(!1),m=3*i,j=m-3,f=a.slice(j,m);return(0,c.jsxs)("div",{className:"w-full h-screen flex flex-col border rounded-xl",children:[u&&!b&&(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)("div",{className:"text-center p-10",children:"Loading editor..."}),children:(0,c.jsx)(o,{onCancel:()=>h(null),Product:u})}),b&&!u&&(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)("div",{className:"text-center p-10",children:"Loading editor..."}),children:(0,c.jsx)(n,{onCancel:()=>p(!1)})}),!u&&!b&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"w-full min-h-24 bg-blue-500 rounded-xl flex flex-row items-center p-3 justify-between",children:[(0,c.jsx)("h4",{className:"text-4xl font-bold text-gray-600",children:"Products"}),(0,c.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,c.jsx)("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition",children:"Add Product"}),(0,c.jsx)("input",{type:"text",className:"rounded-xl flex-1 p-2",placeholder:"Search Product...",onChange:e=>r(e.target.value)})]})]}),(0,c.jsxs)("table",{className:"mt-10 border-2 min-w-[1100px] border-collapse mr-auto ml-auto",children:[(0,c.jsxs)("thead",{children:[(0,c.jsx)("th",{className:"border px-4 py-2",children:"ID"}),(0,c.jsx)("th",{className:"border px-4 py-2",children:"Name"}),(0,c.jsx)("th",{className:"border px-4 py-2",children:"Price"}),(0,c.jsx)("th",{className:"border px-4 py-2",children:"Image"}),(0,c.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]}),(0,c.jsx)("tbody",{children:f.map(e=>(0,c.jsx)(d,{onEdit:()=>h(e),Product:e},e.id))})]}),(0,c.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:Math.ceil(e.length/3)},(e,t)=>(0,c.jsx)("button",{onClick:()=>x(t+1),className:"px-3 py-1 rounded ".concat(i===t+1?"bg-blue-500 text-white":"bg-gray-200"),children:t+1},t))})]})]})}}}]);
//# sourceMappingURL=702.2aa21f5f.chunk.js.map
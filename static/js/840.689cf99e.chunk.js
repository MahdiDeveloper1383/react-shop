"use strict";(self.webpackChunkreact_shop=self.webpackChunkreact_shop||[]).push([[840],{13:(e,s,r)=>{r.d(s,{J:()=>n});var t=r(248),l=r(97),a=r(722);const n=()=>{const e=(0,t.jE)();return{deleteUser:(0,l.n)({mutationFn:e=>a.A.delete("https://687a0739abb83744b7eb0c77.mockapi.io/users/".concat(e)),onSuccess:()=>e.invalidateQueries({queryKey:["users"]}),onError:e=>console.error("Delete user failed:",e)}),editUser:(0,l.n)({mutationFn:e=>{let{userId:s,userData:r}=e;return a.A.put("https://687a0739abb83744b7eb0c77.mockapi.io/users/".concat(s),r)},onSuccess:()=>e.invalidateQueries({queryKey:["users"]}),onError:e=>console.error("Edit user failed:",e)})}}},840:(e,s,r)=>{r.r(s),r.d(s,{default:()=>o});var t=r(43),l=r(849),a=r(13),n=r(579);const c=e=>{let{user:s,onEdit:r}=e;const{deleteUser:t}=(0,a.J)();return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border px-4 py-2",children:s.id}),(0,n.jsx)("td",{className:"border px-4 py-2",children:s.username}),(0,n.jsx)("td",{className:"border px-4 py-2",children:s.email}),(0,n.jsx)("td",{className:"border px-4 py-2",children:s.role}),(0,n.jsx)("td",{className:"border px-1 py-2",children:(0,n.jsxs)("div",{className:"flex flex-row gap-6 ml-auto mr-auto items-center justify-center",children:["1"!==s.id&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:r,className:"w-24 h-10 rounded-xl bg-blue-500 text-white hover:bg-blue-600",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>t.mutate(s.id),className:"w-24 h-10 rounded-xl bg-red-500 text-white hover:bg-red-600",children:"Delete"})]}),"1"===s.id&&" \ud83d\udee1 Super admin \u2014 untouchable!"]})})]})},d=(0,t.lazy)(()=>r.e(192).then(r.bind(r,192))),o=()=>{const{data:e=[]}=(0,l.A)(),[s,r]=(0,t.useState)(""),[a,o]=(0,t.useState)(null),i=e.filter(e=>e.username.toLocaleLowerCase().includes(s.toLocaleLowerCase())),[u,x]=(0,t.useState)(1),h=6*u,p=h-6,m=i.slice(p,h);return(0,n.jsxs)("div",{className:"w-full h-screen flex flex-col border rounded-xl ",children:[a&&(0,n.jsx)(t.Suspense,{fallback:(0,n.jsx)("div",{className:"text-center p-10",children:"Loading editor..."}),children:(0,n.jsx)(d,{onCancel:()=>o(null),user:a})}),!a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"w-full h-20 flex justify-between bg-gray-400 rounded-xl p-5",children:[(0,n.jsx)("h3",{className:"text-3xl font-bold text-gray-600",children:"User list"}),(0,n.jsx)("input",{type:"text",className:"p-3 rounded-xl text-xl",placeholder:"Search User...",onChange:e=>r(e.target.value)})]}),(0,n.jsxs)("table",{className:"mt-10 border-2 min-w-[1100px] mr-auto ml-auto border-collapse",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"border px-4 py-2",children:"ID"}),(0,n.jsx)("th",{className:"border px-4 py-2",children:"Username"}),(0,n.jsx)("th",{className:"border px-4 py-2",children:"Email"}),(0,n.jsx)("th",{className:"border px-4 py-2",children:"Role"}),(0,n.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:m.map(e=>(0,n.jsx)(c,{user:e,onEdit:()=>o(e)},e.id))})]}),(0,n.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:Math.ceil(e.length/6)},(e,s)=>(0,n.jsx)("button",{onClick:()=>x(s+1),className:"px-3 py-1 rounded ".concat(u===s+1?"bg-blue-500 text-white":"bg-gray-200"),children:s+1},s))})]})]})}}}]);
//# sourceMappingURL=840.689cf99e.chunk.js.map